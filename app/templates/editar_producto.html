{% extends 'base_admin.html' %}

{% block content %}
<h2 class="mb-4">Editar Producto</h2>

<!-- 🔙 Botón de retroceso -->
<div class="mb-3">
    <a href="{{ url_for('productos') }}" class="btn btn-outline-secondary">
        <i class="bi bi-arrow-left-circle-fill"></i> Volver
    </a>
</div>

<form method="POST" action="{{ url_for('editar_producto', id=producto.id) }}">
    <div class="mb-3">
        <label class="form-label">Código de Barras (no editable)</label>
        <input type="text" class="form-control" value="{{ producto.codigo_barras }}" readonly>
    </div>

    <div class="mb-3">
        <label class="form-label">Nombre del Producto</label>
        <input type="text" class="form-control" name="nombre" value="{{ producto.nombre }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Descripción</label>
        <textarea class="form-control" name="descripcion" rows="2" required>{{ producto.descripcion }}</textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Características</label>
        <textarea class="form-control" name="caracteristicas" rows="2">{{ producto.caracteristicas }}</textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Precio</label>
        <input type="number" step="0.01" min="0" class="form-control" name="precio" value="{{ producto.precio }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Stock</label>
        <input type="number" min="0" class="form-control" name="stock" value="{{ producto.stock }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Talla</label>
        <select class="form-select" name="talla" required>
            <option value="XS" {% if producto.talla == 'XS' %}selected{% endif %}>XS</option>
            <option value="S" {% if producto.talla == 'S' %}selected{% endif %}>S</option>
            <option value="M" {% if producto.talla == 'M' %}selected{% endif %}>M</option>
            <option value="L" {% if producto.talla == 'L' %}selected{% endif %}>L</option>
            <option value="XL" {% if producto.talla == 'XL' %}selected{% endif %}>XL</option>
            <option value="XXL" {% if producto.talla == 'XXL' %}selected{% endif %}>XXL</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Tipo de Producto</label>
        <select class="form-select" name="tipo_producto" required>
            <option value="Polerón" {% if producto.tipo_producto == 'Polerón' %}selected{% endif %}>Polerón</option>
            <option value="Chaqueta" {% if producto.tipo_producto == 'Chaqueta' %}selected{% endif %}>Chaqueta</option>
            <option value="Pantalón" {% if producto.tipo_producto == 'Pantalón' %}selected{% endif %}>Pantalón</option>
            <option value="Camisa" {% if producto.tipo_producto == 'Camisa' %}selected{% endif %}>Camisa</option>
            <option value="Polera" {% if producto.tipo_producto == 'Polera' %}selected{% endif %}>Polera</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Marca</label>
        <select class="form-select" name="marca" required>
            <option value="Nike" {% if producto.marca == 'Nike' %}selected{% endif %}>Nike</option>
            <option value="Adidas" {% if producto.marca == 'Adidas' %}selected{% endif %}>Adidas</option>
            <option value="Reebok" {% if producto.marca == 'Reebok' %}selected{% endif %}>Reebok</option>
            <option value="Puma" {% if producto.marca == 'Puma' %}selected{% endif %}>Puma</option>
            <option value="Levi's" {% if producto.marca == "Levi's" %}selected{% endif %}>Levi's</option>
            <option value="Converse" {% if producto.marca == 'Converse' %}selected{% endif %}>Converse</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Categoría</label>
        <select class="form-select" name="categoria" required>
            <option value="Hombre" {% if producto.categoria == 'Hombre' %}selected{% endif %}>Hombre</option>
            <option value="Mujer" {% if producto.categoria == 'Mujer' %}selected{% endif %}>Mujer</option>
            <option value="Infantil" {% if producto.categoria == 'Infantil' %}selected{% endif %}>Infantil</option>
            <option value="Accesorios" {% if producto.categoria == 'Accesorios' %}selected{% endif %}>Accesorios</option>
            <option value="Calzado" {% if producto.categoria == 'Calzado' %}selected{% endif %}>Calzado</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">URL de la Imagen</label>
        <input type="url" class="form-control" name="imagen_url" value="{{ producto.imagen_url }}">
    </div>

    <button type="submit" class="btn btn-primary"><i class="bi bi-save"></i> Guardar Cambios</button>
    <a href="{{ url_for('productos') }}" class="btn btn-secondary"><i class="bi bi-x-circle"></i> Cancelar</a>
</form>
{% endblock %}
